<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="utf-8">
    <title>🧪 Test Admin Load</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-900 text-white p-6">
    <div class="max-w-2xl mx-auto">
        <h1 class="text-3xl font-bold mb-6 text-center">🧪 TEST ADMIN LOAD</h1>
        
        <div class="bg-gray-800 rounded-lg p-4 mb-6">
            <h2 class="text-xl font-semibold mb-4 text-red-400">🚨 Issue</h2>
            <p>Admin.html mostra tela branca com erro de sintaxe</p>
            <code class="bg-red-900 px-2 py-1 rounded text-sm">
                Uncaught SyntaxError: Unexpected token '.' (at AdminController.js:161:17)
            </code>
        </div>

        <div class="bg-gray-800 rounded-lg p-4">
            <h2 class="text-xl font-semibold mb-4 text-blue-400">🔧 Test Result</h2>
            <div id="output" class="space-y-2 text-sm font-mono"></div>
            
            <button id="testLoad" class="mt-4 bg-blue-600 hover:bg-blue-700 px-6 py-2 rounded w-full">
                🚀 Test Admin Load
            </button>
        </div>
    </div>

    <script type="module">
        const output = document.getElementById('output');
        
        function log(msg, type = 'info') {
            const colors = {
                info: 'text-blue-400',
                success: 'text-green-400',
                error: 'text-red-400'
            };
            
            const div = document.createElement('div');
            div.className = colors[type] || 'text-gray-300';
            div.textContent = `[${new Date().toLocaleTimeString()}] ${msg}`;
            output.appendChild(div);
        }
        
        // Capture all errors
        window.addEventListener('error', (event) => {
            log(`❌ ERROR: ${event.message} at ${event.filename}:${event.lineno}`, 'error');
        });
        
        document.getElementById('testLoad').addEventListener('click', async () => {
            output.innerHTML = '';
            
            try {
                log('🔄 Testing AdminController import...', 'info');
                
                // Test import
                const AdminControllerModule = await import('../src/js/controllers/AdminController.js');
                log('✅ AdminController imported successfully', 'success');
                
                // Test database import
                const { default: database } = await import('../src/js/database-nasa.js');
                log('✅ Database imported successfully', 'success');
                
                // Test view import
                const AdminViewModule = await import('../src/js/views/AdminView.js');
                log('✅ AdminView imported successfully', 'success');
                
                // Test instantiation
                const adminView = new AdminViewModule.AdminView();
                const adminController = new AdminControllerModule.AdminController(database, adminView);
                
                log('✅ All modules loaded and instantiated successfully!', 'success');
                log('🎉 The syntax error has been fixed!', 'success');
                
            } catch (error) {
                log(`❌ FAILED: ${error.message}`, 'error');
                log(`Stack: ${error.stack}`, 'error');
            }
        });
        
        log('Ready to test. Click button above.', 'info');
    </script>
</body>
</html>